<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>ReVeRieS Game Player</title>
    <link rel="shortcut icon" sizes="32x32" href="/images/app-icon-32.png">
    <meta name="theme-color" content="#fff">
    <script src="./bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <link rel="manifest" href="/manifest.json">
    <link rel="import" href="/src/my-app.html">
    <link rel="import" href="../bower_components/platinum-sw/platinum-sw-elements.html">
    <link rel="import" href="../bower_components/platinum-sw/platinum-sw-register.html">
    <script>
    // load webcomponents polyfills

    // load pre-caching service worker
    </script>
    <style>
    body {
        margin: 0;
        font-family: 'Roboto', 'Noto', sans-serif;
        line-height: 1.5;
        min-height: 100vh;
        background-color: #dcedc8!important;
    }
    </style>
</head>

<body>
    <template is="dom-bind" id='page-template'>
        <platinum-sw-register state='{{state}}' skip-waiting clients-claim auto-register reload-on-install>
            <platinum-sw-cache  precache="{{precacheList}}" default-cache-strategy="fastest"></platinum-sw-cache>
        </platinum-sw-register>
        <my-app cache-value='{{state}}'></my-app>
    </template>
</body>
    <script>

      window.addEventListener('WebComponentsReady', function() {
        // Explicitly call the register() method. We need to wait until the template's variables are
        // all set first, since the configuration depends on bound variables.
        document.querySelector('platinum-sw-register').register();
      });
    </script>

</html>
